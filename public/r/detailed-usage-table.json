{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "detailed-usage-table",
  "type": "registry:block",
  "title": "Detailed Usage Table",
  "description": "A detailed usage table component with resource consumption breakdown",
  "registryDependencies": [
    "table",
    "card",
    "badge",
    "utils"
  ],
  "files": [
    {
      "path": "src/registry/billingsdk/detailed-usage-table.tsx",
      "content": "'use client';\n\nimport {\n\tCard,\n\tCardContent,\n\tCardDescription,\n\tCardHeader,\n\tCardTitle,\n} from '@/components/ui/card';\nimport {\n\tTable,\n\tTableBody,\n\tTableCaption,\n\tTableCell,\n\tTableHead,\n\tTableHeader,\n\tTableRow,\n} from '@/components/ui/table';\nimport { cn } from '@/lib/utils';\n\nexport interface UsageResource {\n\tname: string;\n\tused: number;\n\tlimit: number;\n\tpercentage?: number;\n\tunit?: string;\n}\n\nexport interface DetailedUsageTableProps {\n\tclassName?: string;\n\ttitle?: string;\n\tdescription?: string;\n\tresources: UsageResource[];\n}\n\nexport function DetailedUsageTable({\n\tclassName,\n\ttitle = 'Detailed Usage',\n\tdescription,\n\tresources,\n}: DetailedUsageTableProps) {\n\tconst formatNumber = (num: number) => {\n\t\treturn new Intl.NumberFormat().format(num);\n\t};\n\n\tconst getPercentageBar = (percentage: number) => {\n\t\tlet bgColor = 'bg-green-500';\n\t\tif (percentage >= 90) bgColor = 'bg-red-500';\n\t\telse if (percentage >= 75) bgColor = 'bg-yellow-500';\n\n\t\treturn (\n\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t<div className=\"h-2 w-full rounded-full bg-muted\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={cn('h-2 rounded-full', bgColor)}\n\t\t\t\t\t\tstyle={{ width: `${Math.max(0, Math.min(percentage, 100))}%` }}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<span className=\"text-xs w-10\">{Math.round(percentage)}%</span>\n\t\t\t</div>\n\t\t);\n\t};\n\n\treturn (\n\t\t<Card className={cn('w-full', className)}>\n\t\t\t<CardHeader className=\"pb-4\">\n\t\t\t\t<CardTitle className=\"text-lg\">{title}</CardTitle>\n\t\t\t\t{description && <CardDescription>{description}</CardDescription>}\n\t\t\t</CardHeader>\n\t\t\t<CardContent>\n\t\t\t\t<div className=\"overflow-x-auto\">\n\t\t\t\t\t<Table>\n\t\t\t\t\t\t<TableCaption className=\"sr-only\">\n\t\t\t\t\t\t\tDetailed usage of resources\n\t\t\t\t\t\t</TableCaption>\n\t\t\t\t\t\t<TableHeader>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableHead className=\"w-[200px]\">Resource</TableHead>\n\t\t\t\t\t\t\t\t<TableHead className=\"text-right\">Used</TableHead>\n\t\t\t\t\t\t\t\t<TableHead className=\"text-right\">Limit</TableHead>\n\t\t\t\t\t\t\t\t<TableHead className=\"text-right\">%</TableHead>\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHeader>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{resources.length === 0 ? (\n\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\t\t\t\tcolSpan={4}\n\t\t\t\t\t\t\t\t\t\tclassName=\"h-24 text-center text-muted-foreground\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tNo resources found\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\tresources.map((resource, index) => {\n\t\t\t\t\t\t\t\t\t// Calculate percentage if not provided, protecting against divide-by-zero\n\t\t\t\t\t\t\t\t\tconst percentage =\n\t\t\t\t\t\t\t\t\t\tresource.percentage ??\n\t\t\t\t\t\t\t\t\t\t(resource.limit > 0\n\t\t\t\t\t\t\t\t\t\t\t? (resource.used / resource.limit) * 100\n\t\t\t\t\t\t\t\t\t\t\t: 0);\n\n\t\t\t\t\t\t\t\t\tconst unit = resource.unit ? ` ${resource.unit}` : '';\n\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<TableRow key={resource.name || index}>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell className=\"font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t{resource.name}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell className=\"text-right font-mono\">\n\t\t\t\t\t\t\t\t\t\t\t\t{formatNumber(resource.used)}\n\t\t\t\t\t\t\t\t\t\t\t\t{unit}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell className=\"text-right font-mono\">\n\t\t\t\t\t\t\t\t\t\t\t\t{formatNumber(resource.limit)}\n\t\t\t\t\t\t\t\t\t\t\t\t{unit}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell className=\"text-right\">\n\t\t\t\t\t\t\t\t\t\t\t\t{getPercentageBar(percentage)}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</div>\n\t\t\t</CardContent>\n\t\t</Card>\n\t);\n}\n",
      "type": "registry:component",
      "target": "components/billingsdk/detailed-usage-table.tsx"
    },
    {
      "path": "src/registry/billingsdk/demo/detailed-usage-table-demo.tsx",
      "content": "'use client';\n\nimport { DetailedUsageTable } from '@/registry/billingsdk/detailed-usage-table';\n\nexport function DetailedUsageTableDemo() {\n\treturn (\n\t\t<DetailedUsageTable\n\t\t\ttitle=\"Resource Usage\"\n\t\t\tdescription=\"Detailed breakdown of your resource consumption\"\n\t\t\tresources={[\n\t\t\t\t{\n\t\t\t\t\tname: 'API Calls',\n\t\t\t\t\tused: 12300,\n\t\t\t\t\tlimit: 20000,\n\t\t\t\t\t// percentage will be automatically calculated as 61.5%\n\t\t\t\t\tunit: 'calls',\n\t\t\t\t},\n\t\t\t\t{ name: 'Storage', used: 850, limit: 1000, percentage: 85, unit: 'GB' },\n\t\t\t\t{\n\t\t\t\t\tname: 'Team Members',\n\t\t\t\t\tused: 4,\n\t\t\t\t\tlimit: 5,\n\t\t\t\t\t// percentage will be automatically calculated as 80%\n\t\t\t\t\tunit: 'users',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'Bandwidth',\n\t\t\t\t\tused: 1500,\n\t\t\t\t\tlimit: 2000,\n\t\t\t\t\tpercentage: 75,\n\t\t\t\t\tunit: 'GB',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'Emails',\n\t\t\t\t\tused: 8500,\n\t\t\t\t\tlimit: 10000,\n\t\t\t\t\t// percentage will be automatically calculated as 85%\n\t\t\t\t\tunit: 'emails',\n\t\t\t\t},\n\t\t\t]}\n\t\t/>\n\t);\n}\n",
      "type": "registry:component",
      "target": "components/detailed-usage-table-demo.tsx"
    }
  ]
}